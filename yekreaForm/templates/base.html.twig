<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Yekrea-form | {% endblock %}</title>
    {# link bootstrapp #}
    <!-- bootstrap CSS only -->
    <link rel="stylesheet" href="{{ asset("css/bootstrap.min.css") }}">
    {# Run `composer require symfony/webpack-encore-bundle` to start using Symfony UX #}

    <link rel="stylesheet" href="{{ asset("css/style.css") }}">
    {# la fonction twig (asset()) perlmet d'acceter a la racine du dossier "public"
    il accepte en argument le chemin vers le fichier desiré a partir le dossier public#}
    {% block stylesheets %}{% endblock %}
</head>
<body>

    {# _________ BARRE DE NAVIGATION #}

    {% block nav %}
    
        {# La barre de navigation n'est visible que lorsqu'un utilisateur est connecté #}
        {% if is_granted("ROLE_USER") %}
            
            <header>
                <nav class="navbar navbar-expand-lg row bg-light">
                    <div class="container-fluid ">
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarNavDropdown">
                            <ul class="navbar-nav">
                                {# BOUTON TABLEAU DE BORD#}
                                <li class="nav-item">
                                    <a class="nav-link active" aria-current="page" href="#"><button type="button" class="btn btn-light" data-bs-toggle="button" autocomplete="off">Tableau de bord</button></a>
                                </li>

                                {# DROPDOWN pour L'onglet COMMANDE #}
                                <li class="nav-item dropdown mt-2">
                                        <button class="btn btn-light dropdown-toggle" type="button" id="dropdownMenuButton2" data-bs-toggle="dropdown" aria-expanded="false" autocomplete="off">
                                        Nouvelle commande
                                        </button>
                                        <ul class="dropdown-menu dropdown-menu-light" aria-labelledby="dropdownMenuButton2">

                                            <li><a class="dropdown-item" href="{{ path('app_user_new')}}">Nouveau client</a></li>
                                            <li><hr class="dropdown-divider"></li>
                                            <li><a class="dropdown-item" href="">Clients</a></li>
                                            <li><hr class="dropdown-divider"></li>
                                    
                                            <li><a class="dropdown-item" href="">Historique des commandes</a></li>
                                        
                                        </ul>
                                </li>
                                {# DROPDOWN pour L'onglet DEVIS #}
                                <li class="nav-item dropdown mt-2">
                                    <button class="btn btn-light dropdown-toggle" type="button" id="dropdownMenuButton2" data-bs-toggle="dropdown" aria-expanded="false" autocomplete="off">
                                    Devis
                                    </button>
                                        <ul class="dropdown-menu dropdown-menu-light" aria-labelledby="dropdownMenuButton2">

                                            <li><a class="dropdown-item" href="">En cours</a></li>
                                            <li><hr class="dropdown-divider"></li>
                                            <li><a class="dropdown-item" href="">Valider</a></li>                                                                 
                                        </ul>
                                </li>
                            
                            </ul>
                        </div>
                        <div></div>
                        
                        {# DROPDOWN pour L'onglet MON COMPTE #}
                        <div class="dropdown dropstart">
                            <button class="btn btn-light dropdown-toggle" type="button" id="dropdownMenuButton2" data-bs-toggle="dropdown" aria-expanded="false">
                            Mon compte
                            </button>
                            <ul class="dropdown-menu dropdown-menu-light" aria-labelledby="dropdownMenuButton2">


                            {# Lien accessible uniquement pour l'ADMIN #}
                            {% if is_granted('ROLE_ADMIN')%}
                                <li><a class="dropdown-item" href="{{ path('app_services_index')}}">Gestion des services</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="{{ path('app_user_index') }}">Gestion des utilisateurs</a></li>
                                <li><hr class="dropdown-divider"></li>
                            {% endif %}

                                <li><a class="dropdown-item" href="">Gérer mes clients</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="{{ path('app_logout')}}">Déconnexion</a></li>
                            </ul>
                        </div>
                    </div>
                </nav>

                
            </header>
            

        {% endif %}

    {% endblock %}
    <main>
        
        {% block body %}
            
        {% endblock %}
    </main>
    <!-- JavaScript Bundle with Popper -->
    
    <script type="text/javascript" src="{{ asset("js/bootstrap.min.js") }}"></script>
    <script type="text/javascript" src="{{ asset("js/script.js") }}"></script>
    
    {% block javascripts %}{% endblock %}

</body>
</html>
